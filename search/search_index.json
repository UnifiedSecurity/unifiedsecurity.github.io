{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Welcome to the Unified Security Lab Repository For related videos, please visit: This site contains information related to XCP-ng/Xen Server, such as: Local Cache & SR Management - Storage Repository management in the CLI, such as Default SR, LocalCache, etc.","title":"Home"},{"location":"#welcome-to-the-unified-security-lab-repository","text":"For related videos, please visit:","title":"Welcome to the Unified Security Lab Repository"},{"location":"ChangingLocalCache/","text":"Changing the LocalCache in xcp-ng/Xen Server Use case: You would like to modify, move or otherwise change the Default SR that was created either manually, or (more likely) by the xcp-ng installer. After the SR is cleared of disks, you will still receive an error upon trying to remove the SR, stating \"SR SR_IS_CACHE_SR\". Command Reference Getting the Pool ID: xe pool-list Getting the default SR in the CLI: xe pool-param-get uuid=<pool-uuid> param-name=default-SR Setting the default SR in the CLI: xe pool-param-set uuid=<pool-uuid> default-SR=<sr-uuid> Getting SR Details xe sr-list //params=all for detailed info on all SR's Disabling the host xe host-disable Disabling the Local Cache, host must not be active xe host-disable-local-storage-caching Detailed information about a specific SR xe sr-list uuid=28d40d0f-1b76-229f-26f9-6f3971ca7753 params=all uuid ( RO): 28d40d0f-1b76-229f-26f9-6f3971ca7753 name-label ( RW): TempRaidArray name-description ( RW): Temporary Migration RAID5 Array on SAS Drives host ( RO): xcp-ng1 allowed-operations (SRO): VDI.enable_cbt; VDI.list_changed_blocks; unplug; plug; PBD.create; VDI.disable_cbt; update; PBD.destroy; VDI.resize; VDI.clone; VDI.data_destroy; scan; VDI.snapshot; VDI.mirror; VDI.create; VDI.destroy; VDI.set_on_boot current-operations (SRO): VDIs (SRO): 596da612-500d-478c-9ef0-3b5ddffd1c88; 0a50ae04-91ba-40f4-bbc9-f57a5f8347cb; 177853f3-d077-4ed7-8e7f-884d790e63ec; be7536ea-e4f7-468e-93c0-1f9bb4553ba0; d6f1e08e-9a6a-4bae-bb81-667c89c57ac2; 236542f4-4e70-4ae2-8577-c70b3e23bb53 PBDs (SRO): b8d2de63-f119-af28-e8be-47e14fd657aa virtual-allocation ( RO): 566935683072 physical-utilisation ( RO): 107147882496 physical-size ( RO): 1180752883712 type ( RO): ext content-type ( RO): user shared ( RW): false introduced-by ( RO): <not in database> is-tools-sr ( RO): false other-config (MRW): auto-scan: true sm-config (MRO): devserial: blobs ( RO): local-cache-enabled ( RO): false tags (SRW): clustered ( RO): false Destroying an SR xe sr-destroy uuid=74db37ab-6b1e-d76d-e3ab-245f8c919b63 Enabling Location Storage Caching: xe host-enable-local-storage-caching sr-uuid=28d40d0f-1b76-229f-26f9-6f3971ca7753 Re-enable the Host xe host-enable","title":"LocalCache and SR Manipulation"},{"location":"ChangingLocalCache/#changing-the-localcache-in-xcp-ngxen-server","text":"Use case: You would like to modify, move or otherwise change the Default SR that was created either manually, or (more likely) by the xcp-ng installer. After the SR is cleared of disks, you will still receive an error upon trying to remove the SR, stating \"SR SR_IS_CACHE_SR\".","title":"Changing the LocalCache in xcp-ng/Xen Server"},{"location":"ChangingLocalCache/#command-reference","text":"Getting the Pool ID: xe pool-list Getting the default SR in the CLI: xe pool-param-get uuid=<pool-uuid> param-name=default-SR Setting the default SR in the CLI: xe pool-param-set uuid=<pool-uuid> default-SR=<sr-uuid> Getting SR Details xe sr-list //params=all for detailed info on all SR's Disabling the host xe host-disable Disabling the Local Cache, host must not be active xe host-disable-local-storage-caching Detailed information about a specific SR xe sr-list uuid=28d40d0f-1b76-229f-26f9-6f3971ca7753 params=all uuid ( RO): 28d40d0f-1b76-229f-26f9-6f3971ca7753 name-label ( RW): TempRaidArray name-description ( RW): Temporary Migration RAID5 Array on SAS Drives host ( RO): xcp-ng1 allowed-operations (SRO): VDI.enable_cbt; VDI.list_changed_blocks; unplug; plug; PBD.create; VDI.disable_cbt; update; PBD.destroy; VDI.resize; VDI.clone; VDI.data_destroy; scan; VDI.snapshot; VDI.mirror; VDI.create; VDI.destroy; VDI.set_on_boot current-operations (SRO): VDIs (SRO): 596da612-500d-478c-9ef0-3b5ddffd1c88; 0a50ae04-91ba-40f4-bbc9-f57a5f8347cb; 177853f3-d077-4ed7-8e7f-884d790e63ec; be7536ea-e4f7-468e-93c0-1f9bb4553ba0; d6f1e08e-9a6a-4bae-bb81-667c89c57ac2; 236542f4-4e70-4ae2-8577-c70b3e23bb53 PBDs (SRO): b8d2de63-f119-af28-e8be-47e14fd657aa virtual-allocation ( RO): 566935683072 physical-utilisation ( RO): 107147882496 physical-size ( RO): 1180752883712 type ( RO): ext content-type ( RO): user shared ( RW): false introduced-by ( RO): <not in database> is-tools-sr ( RO): false other-config (MRW): auto-scan: true sm-config (MRO): devserial: blobs ( RO): local-cache-enabled ( RO): false tags (SRW): clustered ( RO): false Destroying an SR xe sr-destroy uuid=74db37ab-6b1e-d76d-e3ab-245f8c919b63 Enabling Location Storage Caching: xe host-enable-local-storage-caching sr-uuid=28d40d0f-1b76-229f-26f9-6f3971ca7753 Re-enable the Host xe host-enable","title":"Command Reference"},{"location":"about/","text":"Commands mkdocs new [dir-name] - Create a new project. mkdocs serve - Start the live-reloading docs server. mkdocs build - Build the documentation site. mkdocs -h - Print help message and exit. test - If the above doesn't work Project layout mkdocs.yml # The configuration file. docs/ index.md # The documentation homepage. ... # Other markdown pages, images and other files.","title":"About"},{"location":"about/#commands","text":"mkdocs new [dir-name] - Create a new project. mkdocs serve - Start the live-reloading docs server. mkdocs build - Build the documentation site. mkdocs -h - Print help message and exit. test - If the above doesn't work","title":"Commands"},{"location":"about/#project-layout","text":"mkdocs.yml # The configuration file. docs/ index.md # The documentation homepage. ... # Other markdown pages, images and other files.","title":"Project layout"},{"location":"raid/","text":"RAID Array Management - General Use case: Manage and create RAID arrays on the xcp-ng/xen server host Command Reference General information commands: lsblk Lists the active physical devices, their raid arrays, and their SR attachments mdadm --misc -Q /dev/md0 //Checks the general status of a raid array, drive inclusion, etc. mdadm --detail -D /dev/md0 //Detailed information about the RAID array Example of RAID5 array creation using 3 drives: Create the array: mdadm --create /dev/md0 --run --level=5 --bitmap=internal --assume-clean --raid-devices=3 --metadata=1.2 /dev/sdc /dev/sdd /dev/sde To stop the md0 array, once the SR is empty and removed from the host: mdadm --manage /dev/md0 -S","title":"Raid Arrays on a Xen/XCP-ng Host"},{"location":"raid/#raid-array-management-general","text":"Use case: Manage and create RAID arrays on the xcp-ng/xen server host","title":"RAID Array Management - General"},{"location":"raid/#command-reference","text":"","title":"Command Reference"},{"location":"raid/#general-information-commands","text":"lsblk Lists the active physical devices, their raid arrays, and their SR attachments mdadm --misc -Q /dev/md0 //Checks the general status of a raid array, drive inclusion, etc. mdadm --detail -D /dev/md0 //Detailed information about the RAID array","title":"General information commands:"},{"location":"raid/#example-of-raid5-array-creation-using-3-drives","text":"Create the array: mdadm --create /dev/md0 --run --level=5 --bitmap=internal --assume-clean --raid-devices=3 --metadata=1.2 /dev/sdc /dev/sdd /dev/sde To stop the md0 array, once the SR is empty and removed from the host: mdadm --manage /dev/md0 -S","title":"Example of RAID5 array creation using 3 drives:"}]}